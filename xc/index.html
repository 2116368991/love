<!DOCTYPE html>
<html lang="zh-CN" >
<head>
<meta charset="UTF-8">
<title>ç’‡ç’‡</title>
<style>
/* é‡ç½®é»˜è®¤æ ·å¼ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #f5f5f5;
  padding: 20px;
  font-family: "Fira Sans", sans-serif;
}

/* ç€‘å¸ƒæµå®¹å™¨ */
.gallery {
  column-count: 4; /* åˆ—æ•°ï¼Œå¯è°ƒæ•´ */
  column-gap: 15px; /* åˆ—ä¹‹é—´çš„é—´è· */
  max-width: 1200px;
  margin: 0 auto;
}

/* ç…§ç‰‡å¡ç‰‡ */
.photo {
  break-inside: avoid; /* é˜²æ­¢ç…§ç‰‡è¢«åˆ—åˆ†å‰² */
  margin-bottom: 15px;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  background: white;
  cursor: pointer; /* é¼ æ ‡ç§»ä¸Šå»å˜æ‰‹å‹ï¼Œæç¤ºå¯ç‚¹å‡» */
}

/* ç…§ç‰‡å›¾ç‰‡ */
.photo__image img {
  width: 100%;
  height: auto;
  display: block;
  transition: transform 0.3s ease;
}

.photo:hover .photo__image img {
  transform: scale(1.02); /* hoverè½»å¾®æ”¾å¤§ */
}

/* ç…§ç‰‡åç§° */
.photo__name {
  padding: 10px;
  text-align: center;
  color: #333;
  font-size: 14px;
}

/* å¤§å›¾é¢„è§ˆé®ç½©å±‚ */
.lightbox {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
  display: none; /* é»˜è®¤éšè— */
  justify-content: center;
  align-items: center;
  z-index: 9999; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
  padding: 20px;
}

/* å¤§å›¾å®¹å™¨ */
.lightbox__content {
  max-width: 90%;
  max-height: 90%;
  position: relative;
}

/* å¤§å›¾æ ·å¼ */
.lightbox__image {
  width: 100%;
  height: auto;
  max-height: 90vh;
  border-radius: 8px;
}

/* å…³é—­æŒ‰é’® */
.lightbox__close {
  position: absolute;
  top: -40px;
  right: 0;
  color: white;
  font-size: 30px;
  cursor: pointer;
  background: none;
  border: none;
}

/* å·¦å³åˆ‡æ¢æŒ‰é’® */
.lightbox__nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 20px;
  pointer-events: none; /* é¿å…é®æŒ¡å›¾ç‰‡ç‚¹å‡» */
}

.lightbox__prev, .lightbox__next {
  color: white;
  font-size: 40px;
  cursor: pointer;
  background: rgba(0, 0, 0, 0.5);
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: auto; /* æ¢å¤ç‚¹å‡» */
  border: none;
}

/* å“åº”å¼é€‚é… */
@media (max-width: 1024px) {
  .gallery {
    column-count: 3; /* å¹³æ¿æ˜¾ç¤º3åˆ— */
  }
}

@media (max-width: 768px) {
  .gallery {
    column-count: 2; /* æ‰‹æœºæ˜¾ç¤º2åˆ— */
  }
  .lightbox__prev, .lightbox__next {
    font-size: 30px;
    width: 40px;
    height: 40px;
  }
}

@media (max-width: 480px) {
  .gallery {
    column-count: 1; /* å°å±æ‰‹æœºæ˜¾ç¤º1åˆ— */
  }
}
</style>
</head>
<body>

<!-- ç…§ç‰‡ç”»å»Š -->
<div class="gallery" id="photoGallery">
  <!-- 1-20å·ç…§ç‰‡ç¤ºä¾‹ï¼ˆå¯æ— é™æ–°å¢ï¼‰ -->
  <div class="photo" data-index="0">
    <div class="photo__image"><img src="img/1.jpg" alt="ç…§ç‰‡1"/></div>
    <div class="photo__name">âœŒï¸</div>
  </div>
  <div class="photo" data-index="1">
    <div class="photo__image"><img src="img/2.jpg" alt="ç…§ç‰‡2"/></div>
    <div class="photo__name">å®å®é€çš„èœ‚èœœæŸšå­èŒ¶ğŸ¤¤</div>
  </div>
  <div class="photo" data-index="2">
    <div class="photo__image"><img src="img/3.jpg" alt="ç…§ç‰‡3"/></div>
    <div class="photo__name">æ˜¯è‰è“è¯¶ğŸ“</div>
  </div>
  <div class="photo" data-index="3">
    <div class="photo__image"><img src="img/4.png" alt="ç…§ç‰‡4"/></div>
    <div class="photo__name">é„™è§†æˆ‘ğŸ˜’</div>
  </div>
  <div class="photo" data-index="4">
    <div class="photo__image"><img src="img/5.jpg" alt="ç…§ç‰‡5"/></div>
    <div class="photo__name">è‰è“å°ğŸ“</div>
  </div>
  <div class="photo" data-index="5">
    <div class="photo__image"><img src="img/6.jpg" alt="ç…§ç‰‡6"/></div>
    <div class="photo__name">å˜¿å˜¿hellokitty</div>
  </div>
  <div class="photo" data-index="6">
    <div class="photo__image"><img src="img/7.jpg" alt="ç…§ç‰‡7"/></div>
    <div class="photo__name">æ˜¯å®å®äº²æ‰‹åšçš„ç”Ÿæ—¥è›‹ç³•ğŸ˜</div>
  </div>
  <div class="photo" data-index="7">
    <div class="photo__image"><img src="img/8.jpg" alt="ç…§ç‰‡8"/></div>
    <div class="photo__name">å…¨ä¸–ç•Œæœ€å¥½çš„å®å®é™ªæˆ‘è¿‡ç”Ÿæ—¥ğŸ˜š</div>
  </div>
  <div class="photo" data-index="8">
    <div class="photo__image"><img src="img/9.jpg" alt="ç…§ç‰‡9"/></div>
    <div class="photo__name">æˆ‘å¥½å¹¸ç¦ğŸ˜Š</div>
  </div>
  <div class="photo" data-index="9">
    <div class="photo__image"><img src="img/10.jpg" alt="ç…§ç‰‡10"/></div>
    <div class="photo__name">ğŸ¤©</div>
  </div>
   <div class="photo" data-index="10">
    <div class="photo__image"><img src="img/11.jpg" alt="ç…§ç‰‡11"/></div>
    <div class="photo__name">æœ€æ¼‚äº®çš„å®å®ğŸ¤¯</div>
  </div>
   <div class="photo" data-index="11">
    <div class="photo__image"><img src="img/12.jpg" alt="ç…§ç‰‡12"/></div>
    <div class="photo__name">é©±é­”çš„å®å®ğŸ˜±</div>
  </div>
   <div class="photo" data-index="12">
    <div class="photo__image"><img src="img/13.jpg" alt="ç…§ç‰‡13"/></div>
    <div class="photo__name">è‡­ç¾çš„å®å®ğŸ¥¶</div>
  </div>
   <div class="photo" data-index="13">
    <div class="photo__image"><img src="img/14.jpg" alt="ç…§ç‰‡14"/></div>
    <div class="photo__name">åˆä¸­çš„å®å®ğŸ¤©</div>
  </div>
   <div class="photo" data-index="14">
    <div class="photo__image"><img src="img/15.jpg" alt="ç…§ç‰‡15"/></div>
    <div class="photo__name">ğŸ˜´</div>
  </div>
   <div class="photo" data-index="15">
    <div class="photo__image"><img src="img/16.jpg" alt="ç…§ç‰‡16"/></div>
    <div class="photo__name">ğŸ˜´</div>
  </div>
   <div class="photo" data-index="16">
    <div class="photo__image"><img src="img/17.jpg" alt="ç…§ç‰‡17"/></div>
    <div class="photo__name">ç©ºç™½å¾…ä¸Šä¼ </div>
  </div>
  <!-- æ–°å¢ç…§ç‰‡åªéœ€å¤åˆ¶ä¸Šé¢çš„photoå—ï¼Œæ”¹data-indexå’Œimgæ•°å­—å³å¯ -->
</div>

<!-- å¤§å›¾é¢„è§ˆå±‚ -->
<div class="lightbox" id="lightbox">
  <div class="lightbox__content">
    <button class="lightbox__close" id="lightboxClose">&times;</button>
    <img src="" alt="å¤§å›¾é¢„è§ˆ" class="lightbox__image" id="lightboxImage"/>
    <div class="lightbox__nav">
      <button class="lightbox__prev" id="lightboxPrev">&lsaquo;</button>
      <button class="lightbox__next" id="lightboxNext">&rsaquo;</button>
    </div>
  </div>
</div>

<script>
// è·å–å…ƒç´ 
const gallery = document.getElementById('photoGallery');
const lightbox = document.getElementById('lightbox');
const lightboxImage = document.getElementById('lightboxImage');
const lightboxClose = document.getElementById('lightboxClose');
const lightboxPrev = document.getElementById('lightboxPrev');
const lightboxNext = document.getElementById('lightboxNext');

// è·å–æ‰€æœ‰ç…§ç‰‡å…ƒç´ 
const photos = document.querySelectorAll('.photo');
// å­˜å‚¨æ‰€æœ‰ç…§ç‰‡çš„è·¯å¾„
const photoPaths = Array.from(photos).map(photo => {
  return photo.querySelector('img').src;
});
// å½“å‰æ˜¾ç¤ºçš„ç…§ç‰‡ç´¢å¼•
let currentIndex = 0;

// ç‚¹å‡»ç…§ç‰‡æ‰“å¼€å¤§å›¾
gallery.addEventListener('click', (e) => {
  const photo = e.target.closest('.photo');
  if (photo) {
    // è·å–å½“å‰ç…§ç‰‡ç´¢å¼•
    currentIndex = parseInt(photo.dataset.index);
    // è®¾ç½®å¤§å›¾è·¯å¾„
    lightboxImage.src = photoPaths[currentIndex];
    // æ˜¾ç¤ºå¤§å›¾å±‚
    lightbox.style.display = 'flex';
    // ç¦æ­¢é¡µé¢æ»šåŠ¨
    document.body.style.overflow = 'hidden';
  }
});

// å…³é—­å¤§å›¾
function closeLightbox() {
  lightbox.style.display = 'none';
  // æ¢å¤é¡µé¢æ»šåŠ¨
  document.body.style.overflow = 'auto';
}

// ç‚¹å‡»å…³é—­æŒ‰é’®å…³é—­
lightboxClose.addEventListener('click', closeLightbox);

// ç‚¹å‡»ç©ºç™½å¤„å…³é—­
lightbox.addEventListener('click', (e) => {
  if (e.target === lightbox) {
    closeLightbox();
  }
});

// æŒ‰ESCé”®å…³é—­
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && lightbox.style.display === 'flex') {
    closeLightbox();
  }
});

// ä¸Šä¸€å¼ 
lightboxPrev.addEventListener('click', () => {
  currentIndex = (currentIndex - 1 + photoPaths.length) % photoPaths.length;
  lightboxImage.src = photoPaths[currentIndex];
});

// ä¸‹ä¸€å¼ 
lightboxNext.addEventListener('click', () => {
  currentIndex = (currentIndex + 1) % photoPaths.length;
  lightboxImage.src = photoPaths[currentIndex];
});

// æŒ‰å·¦å³æ–¹å‘é”®åˆ‡æ¢
document.addEventListener('keydown', (e) => {
  if (lightbox.style.display === 'flex') {
    if (e.key === 'ArrowLeft') {
      lightboxPrev.click();
    } else if (e.key === 'ArrowRight') {
      lightboxNext.click();
    }
  }
});

// æ–°å¢ç…§ç‰‡æ—¶è‡ªåŠ¨æ›´æ–°ç´¢å¼•ï¼ˆå¯é€‰ï¼Œæ‰‹åŠ¨æ”¹ä¹Ÿå¯ä»¥ï¼‰
function updatePhotoIndexes() {
  photos.forEach((photo, index) => {
    photo.dataset.index = index;
  });
  // æ›´æ–°ç…§ç‰‡è·¯å¾„æ•°ç»„
  photoPaths = Array.from(photos).map(photo => photo.querySelector('img').src);
}
</script>
